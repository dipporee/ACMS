**작업 현황**

2023.05.02. ~2023.05.04 3일 작업 후 작업 지시 사항 작업으로 넘어감.

2023.05.09. 하루 추가 해서 작업 더 함. 

# 요구 사항

- SCH_TYPE 에는 PROJECT, TEAM(프로젝트가 가지고 있는 조직 전체), USER 를 들어가도록 한다.
- 팀일 경우 달력 설명에는 조직 순번이 들어가도록 되어 있다.
- 사용자가 달력에 들어갈 때마다 프로젝트와 유저, 조직을 확인하여 없으면 추가를 해주는 식으로 되어 있다. (merge)
- REL_SEQ 에는 팀일 때는 조직 순번 사용자일 때는 사용자 순번이 들어 간다.
- 사용자 일정 타입 관리 테이블에 사용자 순번은 들어가지 않아도 된다. 프로젝트 별로 달력이 생성되기 때문에 사용자를 구분할 필요가 없다.
- 달력 반복 종료 값이 null 일 때 수정을 하는 경우 그 값을 1970-01-01로 읽어와서 값이 1970-01-01 들어가는 오류가 있음
    - 반복이 있거나 없거나 종료 일자만 들어가는 것은 상관이 없음.
    - 나중에 1970-01-01로는 못 들어가게 할지는 생각을 할 필요가 있음.

**문제**

- popup 삭제의 경우 조건이 나와서 개별, 전부, 지금부터를 골라 삭제가 가능하지만 더블 클릭해서 삭제 버튼을 누른 경우에는 전부 삭제되는 것 밖에 되지 않음

**나중에 진행해야 하는 사항**

- 반복 들어가는 것이 값이 어떤 식으로 저장 되는지 공부 필요
- 시간 남으면 색깔은 수정할 수 있도록 해준다.

```jsx
-- 확인 코드
-- 최상 리비전의 OBS 시퀀스 
SELECT * FROM SPM_BIZ_CODE_GROUP 
WHERE PROJ_SEQ = '1'
AND REV = 
(SELECT MAX(REV) FROM SPM_BIZ_CODE_GROUP WHERE PROJ_SEQ = '1')
AND BIZ_GRP_CD = 'OBS'

-- OBS 
SELECT * FROM SPM_BIZ_CODE 
WHERE BIZ_CD_GRP_SEQ = '202'
AND DEL_YN = 'N'
AND USE_YN = 'Y'

-- 사용자에 연결된 OBS
SELECT BIZ_CD_SEQ FROM GEM_OBS_USER WHERE USER_SEQ = 1 AND DEL_YN = 'N'
```
